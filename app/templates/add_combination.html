<!DOCTYPE html>
<html>
<head>
    <title>Add Beyblade Combination</title>
</head>
<body>
    <h1>Add Beyblade Combination</h1>
    <form method="POST">
        <label for="combination_name">Combination Name:</label><br>
        <input type="text" id="combination_name" name="combination_name" readonly><br><br> {# Make it readonly #}

        <label for="combination_type">Combination Type:</label><br>
        <select id="combination_type" name="combination_type" required>
            <option value="Attack">Attack</option>
            <option value="Defense">Defense</option>
            <option value="Stamina">Stamina</option>
            <option value="Balance">Balance</option>
            <option value="Unknown">Unknown</option>
        </select><br><br>

        <label for="blade_name">Blade:</label><br>
        <select id="blade_name" name="blade_name" required>
            <option value="">Select a Blade</option> {# Add a default option #}
            {% for blade in blades %}
            <option value="{{ blade['name'] }}">{{ blade['name'] }}</option>
            {% endfor %}
        </select><br><br>

        <label for="ratchet_name">Ratchet:</label><br>
        <select id="ratchet_name" name="ratchet_name" required>
            <option value="">Select a Ratchet</option> {# Add a default option #}
            {% for ratchet in ratchets %}
            <option value="{{ ratchet['name'] }}">{{ ratchet['name'] }}</option>
            {% endfor %}
        </select><br><br>

        <label for="bit_name">Bit:</label><br>
        <select id="bit_name" name="bit_name" required>
            <option value="">Select a Bit</option> {# Add a default option #}
            {% for bit in bits %}
            <option value="{{ bit['name'] }}">{{ bit['name'] }}</option>
            {% endfor %}
        </select><br><br>

        <label for="combination_weight">Combination Weight:</label><br>
        <input type="number" step="0.01" id="combination_weight" name="combination_weight"><br><br>

        <input type="submit" value="Submit">

        <script>
            const bladeSelect = document.getElementById('blade_name');
            const ratchetSelect = document.getElementById('ratchet_name');
            const bitSelect = document.getElementById('bit_name');
            const combinationNameInput = document.getElementById('combination_name');

            function updateCombinationName() {
                const blade = bladeSelect.value;
                const ratchet = ratchetSelect.value;
                const bit = bitSelect.value;

                if (blade && ratchet && bit) {
                    combinationNameInput.value = `${blade} ${ratchet}${bit}`;
                } else {
                    combinationNameInput.value = ''; // Clear if not all selected
                }
            }

            bladeSelect.addEventListener('change', updateCombinationName);
            ratchetSelect.addEventListener('change', updateCombinationName);
            bitSelect.addEventListener('change', updateCombinationName);
        </script>
    </form>
</body>
</html>